parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"UnXq":[function(require,module,exports) {
"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.strQueryToArray=exports.generateMobileMethods=exports.postMessageToNativeApp=exports.promiseHandler=exports.generateId=exports.lwcConfigFromUrl=void 0;var r=function(){var e=new URLSearchParams(window.location.search).get("data"),r=window.atob(window.decodeURIComponent(e||"")),t=JSON.parse(r);return{ns:t.ns,vfns:t.vfns,component:t.component,props:t.props,refs:t.refs,methods:t.methods}};exports.lwcConfigFromUrl=r;var t=function e(r){var t="".concat(Number(new Date)," ").concat(Math.ceil(1e7*Math.random()));return r.get(t)?e(r):t};exports.generateId=t;var n=function(e,r){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var s=n[0],a=n[1];a?r(a):e(s)}};exports.promiseHandler=n;var o=function(e,r){var t=Object.assign(Object.assign({},r),{type:e}),n=JSON.stringify(t),o=window;o.ReactNativeWebView?o.ReactNativeWebView.postMessage(n):o.VlocApp&&o.VlocApp.postMessage?o.VlocApp.postMessage(n):o.nativePostMessage?o.nativePostMessage(n):o.parent.postMessage(t,"*")};exports.postMessageToNativeApp=o;var s=function(r,s){return r?r.reduce(function(r,a){return Object.assign(Object.assign({},r),e({},a,function(){for(var e=t(s),r=arguments.length,i=new Array(r),p=0;p<r;p++)i[p]=arguments[p];return o("fnCall",{callId:e,args:i,name:a}),new Promise(function(r,t){s.set(e,n(r,t))})}))},{}):null};exports.generateMobileMethods=s;var a=function(e){return Array.isArray(e)?e:e.replace(/\+/," ").split(" ")};exports.strQueryToArray=a;
},{}],"dbqJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeLwc=exports.setChildrenProps=exports.setProps=exports.createLwc=void 0;var e=require("./utils"),t=function(e,t){var o=e.vfns,r=e.ns,n=e.component,c=e.props,s="".concat(o||r,":ltngOutVF");window.$Lightning.use(s,function(){var o="".concat(r,":").concat(n);window.$Lightning.createComponent(o,c,"lightning",function(o,r){return t(o.elements[0],r,e)})})};exports.createLwc=t;var o=function(e,t){Object.keys(e).forEach(function(o){t[o]=e[o]})};exports.setProps=o;var r=function(t,r){t.forEach(function(t){var n=(0,e.strQueryToArray)(t.element).reduce(function(e,t){return e.shadowRoot?e.shadowRoot.querySelector(t):e.querySelector(t)},r);n&&(o(t.props,n),n.focus&&(n.focus(),setTimeout(function(){return n.blur()},0)))})};exports.setChildrenProps=r;var n=function(e){var t=document.getElementById("lightning");t&&(t.innerHTML="")};exports.removeLwc=n;
},{"./utils":"UnXq"}],"ul02":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Loader=void 0;var o=function(){function t(){e(this,t),this.el=document.getElementById("loading")}return n(t,[{key:"show",value:function(){this.toggle("block")}},{key:"hide",value:function(){this.toggle("none")}},{key:"toggle",value:function(e){this.el.style.display=e}}]),t}();exports.Loader=o;
},{}],"eKDL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nativeRequest=exports.errorMessageEl=exports.requestTypes=exports.omniEvents=void 0;var e=["omniactiondebug","omniactionbtn","omniaggregate","omniautoadvance","omnicustomsavestate","omnifileuploaded","omniformatteddata","omniinvalid","omnimodal","omnipendingupdates","omnirefreshseeddata","omnisavedforlater","omnisaveforlater","omnisetinit","omnisetlookupoptions","omnisetoptions","omnisetshow","omnistepchange","omnistepchart","omniupdatejsondef","omnivalid"];exports.omniEvents=e;var o={loaded:"loaded",fnCall:"fnCall"};exports.requestTypes=o;var t="#auraErrorMessage";exports.errorMessageEl=t;var s={setProps:"setprops",setElementProps:"setelementprops",callback:"callback",reload:"reload",error:"error"};exports.nativeRequest=s;
},{}],"F6jP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MobileVfpageSdk=void 0;var e=require("./utils"),t=require("./lwc"),n=require("./loader"),o=require("./constants");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var a=function(){function s(){var t=this;i(this,s),this.callbacks=new Map,this.onLwcLoad=function(n,o,i){t.loader.hide(),t.lwcConfig=i,"SUCCESS"===o&&(t.lwcElement=n,t.mobileMethods=(0,e.generateMobileMethods)(i.methods,t.callbacks),n.mobileMethods=t.mobileMethods,t.handleCustomEvents(),t.applyMethodstoRefs(i.refs),(0,e.postMessageToNativeApp)("loaded",{}))},this.loader=new n.Loader,this.lwcElement=null,this.mobileMethods=null,this.lwcConfig=null,window.addEventListener("message",function(e){return t.postMessageHandler(e)}),this.init()}return l(s,[{key:"init",value:function(){this.loader.show();var n=(0,e.lwcConfigFromUrl)();(0,t.createLwc)(n,this.onLwcLoad)}},{key:"handleCustomEvents",value:function(){var t,n,i=this;o.omniEvents.forEach(function(t){var n;null===(n=i.lwcElement)||void 0===n||n.addEventListener(t,function(n){(0,e.postMessageToNativeApp)("omniscriptEvent",{name:t,args:n.detail,callId:""})})}),null===(t=this.lwcElement)||void 0===t||t.addEventListener("mobileaction",function(t){(0,e.postMessageToNativeApp)("mobileAction",{name:"mobileaction",args:t.detail,callId:"mobileaction"})}),null===(n=this.lwcElement)||void 0===n||n.addEventListener("initmobilemethods",function(e){i.refreshRefMethods(e.detail||[])})}},{key:"postMessageHandler",value:function(n){if(n.detail&&n.detail.OmniEleName)return(0,e.postMessageToNativeApp)("omniPostMessage",{name:"omnipostmessage",args:n.detail,callId:"omnipostmessage"});if(!this.lwcElement)return!1;var o=function(){try{return JSON.parse(n.data)}catch(e){return n.data}}();if("setprops"===o.type)return(0,t.setProps)(o.props,this.lwcElement);if("setelementprops"===o.type&&o.target)return(0,t.setChildrenProps)(o.target,this.lwcElement);"reload"===o.type&&((0,t.removeLwc)(o.props),this.init());var i=this.callbacks.get(o.callId);if(console.log(i,o),!i)return!1;"callback"===o.type&&"omniscript"!==o.callId&&i(o.response,null),"error"===o.type&&i(null,o.message)}},{key:"applyMethodstoRefs",value:function(e){var n=this;if(!e||!e.length)return!1;var o=e.map(function(e){return{element:e,props:{mobileMethods:n.mobileMethods}}});return setTimeout(function(){n.lwcElement&&(0,t.setChildrenProps)(o,n.lwcElement)},1e3)}},{key:"refreshRefMethods",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.applyMethodstoRefs(((null===(e=this.lwcConfig)||void 0===e?void 0:e.refs)||[]).concat(t))}}]),s}();exports.MobileVfpageSdk=a;
},{"./utils":"UnXq","./lwc":"dbqJ","./loader":"ul02","./constants":"eKDL"}],"QCba":[function(require,module,exports) {
"use strict";var e=require("./sdk");new e.MobileVfpageSdk;
},{"./sdk":"F6jP"}]},{},["QCba"], null)
//# sourceMappingURL=/index.js.map